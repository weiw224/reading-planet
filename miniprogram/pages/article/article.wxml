<!-- 文章阅读页 - 参考原型: article_reading_view -->
<view class="page-article">
  <!-- 自定义导航栏 -->
  <view class="nav-bar">
    <view class="nav-left" bindtap="goBack">
      <image src="/images/icons/arrow-left.png" mode="aspectFit" />
    </view>
    
    <view class="nav-center">
      <view class="category-tag">{{article.category}}</view>
      <text class="nav-title">阅读进行中</text>
    </view>
    
    <view class="nav-right" bindtap="showMore">
      <image src="/images/icons/more.png" mode="aspectFit" />
    </view>
  </view>

  <!-- 文章信息条 -->
  <view class="article-meta">
    <text>{{article.grade_text}}</text>
    <text class="divider">|</text>
    <text>{{article.word_count}}字</text>
    <text class="divider">|</text>
    <text>建议用时{{article.estimated_time}}分</text>
    <text class="divider">|</text>
    <text>难度：</text>
    <view class="stars">
      <text 
        wx:for="{{[1,2,3]}}" 
        wx:key="*this"
        class="star {{item <= article.difficulty ? 'active' : ''}}"
      >★</text>
    </view>
    <text wx:if="{{article.has_challenge}}">(含挑战题)</text>
  </view>

  <!-- 文章内容 -->
  <scroll-view 
    class="article-content" 
    scroll-y
    enhanced
    show-scrollbar="{{false}}"
  >
    <!-- 封面图 -->
    <view class="cover-wrapper">
      <image 
        class="cover-image" 
        src="{{article.cover_url}}" 
        mode="aspectFill"
      />
      <view class="fullscreen-icon" bindtap="viewFullImage">
        <image src="/images/icons/fullscreen.png" mode="aspectFit" />
      </view>
    </view>

    <!-- 标题区 -->
    <view class="title-section">
      <text class="article-title">{{article.title}}</text>
      <view class="author-info">
        <text class="category-label">{{article.tags[0]}}</text>
        <text class="author">· 作者：{{article.author}}</text>
      </view>
    </view>

    <!-- 正文内容 -->
    <view class="content-body">
      <block wx:for="{{paragraphs}}" wx:key="index">
        <!-- 普通段落 -->
        <view class="paragraph" wx:if="{{!item.isHighlight}}">
          <image 
            class="paragraph-icon" 
            src="/images/icons/leaf.png" 
            mode="aspectFit"
          />
          <text class="paragraph-text" user-select>{{item.text}}</text>
        </view>
        
        <!-- 知识扩展高亮块 -->
        <view class="highlight-block" wx:if="{{item.isHighlight}}">
          <image 
            class="highlight-icon" 
            src="/images/icons/lightbulb.png" 
            mode="aspectFit"
          />
          <text class="highlight-text">"{{item.text}}"</text>
        </view>
      </block>
    </view>

    <!-- 阅读提示 -->
    <view class="read-tip">
      <image src="/images/icons/lock.png" mode="aspectFit" />
      <text>阅读全文即可解锁答题环节</text>
    </view>

    <!-- 底部占位 -->
    <view class="bottom-placeholder"></view>
  </scroll-view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar safe-area-bottom">
    <button 
      class="btn-start-quiz"
      bindtap="startQuiz"
      loading="{{starting}}"
    >
      <image src="/images/icons/unlock.png" mode="aspectFit" />
      <text>开始答题</text>
    </button>
  </view>
</view>
